<section class="calculator-container">
  <div class="calculator-row">
    <label for="baseCurrencySelect">Base Currency</label>

    <input
      id="baseCurrencyInput"
      name="baseCurrencyAmount"
      type="number"
      min="0"
      step="0.01"
      [value]="baseAmount()"
      (input)="onBaseCurrencyAmountChange($event.target.value)"
    />

    <select
      id="baseCurrencySelect"
      name="baseCurrencyCode"
      [value]="baseCurrencyCode()"
      (change)="onBaseCurrencyChange($event)"
    >
      @for (currency of currencies; track currency.code) {
      <option [value]="currency.code">{{ currency.code }} - {{ currency.name }}</option>
      }
    </select>
  </div>

  @for (target of targets(); track target.id; let index = $index) {
  <div class="calculator-row">
    <label [for]="'targetCurrencySelect-' + target.id">Target Currency</label>

    <input
      [id]="'targetCurrencyInput-' + target.id"
      name="targetCurrencyAmount"
      type="number"
      min="0"
      step="0.01"
      [value]="target.amount"
      (input)="onTargetCurrencyAmountChange(index, $event.target.value)"
    />

    <select
      [id]="'targetCurrencySelect-' + target.id"
      name="targetCurrencyCode"
      [value]="target.currencyCode"
      (change)="onTargetCurrencyChange(index, $event)"
    >
      @for (currency of currencies; track currency.code) {
      <option [value]="currency.code">{{ currency.code }} - {{ currency.name }}</option>
      }
    </select>

    <button type="button" (click)="removeTarget(index)" [disabled]="targets().length === 1">
      Remove
    </button>
  </div>
  }

  <div class="calculator-actions">
    <button type="button" (click)="addTarget()">Add target currency</button>
  </div>
</section>
