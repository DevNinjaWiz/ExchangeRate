<div class="history-rate">
  <div class="history-rate__controls">
    <app-select
      label="Range"
      [options]="DATE_RANGE_OPTIONS"
      [value]="dateOptions()"
      [panelClass]="'history-rate-select-panel'"
      (selectionChange)="onDateOptionsChange($event)"
    ></app-select>

    <app-select
      label="Targets"
      [multiple]="true"
      [options]="targetOptions()"
      [optionLabel]="targetOptionLabel"
      [value]="selectedTargetCurrencies()"
      [panelClass]="'history-rate-select-panel'"
      (selectionChange)="onTargetCurrenciesChange($event)"
    ></app-select>
  </div>

  @if (error()) {
    <p class="history-rate__error">{{ error() }}</p>
  }

  @if (!selectedTargetCurrencies().length) {
    <p class="history-rate__hint">Select at least one target currency.</p>
  }

  <div class="history-rate__chart">
    <canvas #historyChartCanvas></canvas>

    @if (loading()) {
      <div class="history-rate__loading">Loading chart data...</div>
    }
  </div>
</div>
